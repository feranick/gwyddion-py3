<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>correlation: Gwyddion Data Processing Library Reference Manual</title>
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Gwyddion Data Processing Library Reference Manual">
<link rel="up" href="index.html" title="Gwyddion Data Processing Library Reference Manual">
<link rel="prev" href="libgwyprocess-correct.html" title="correct">
<link rel="next" href="libgwyprocess-cwt.html" title="cwt">
<meta name="generator" content="GTK-Doc V1.19 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#libgwyprocess-correlation.description" class="shortcut">Description</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><img src="up-insensitive.png" width="16" height="16" border="0"></td>
<td><a accesskey="p" href="libgwyprocess-correct.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="libgwyprocess-cwt.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="libgwyprocess-correlation"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="libgwyprocess-correlation.top_of_page"></a>correlation</span></h2>
<p>correlation — Correlation and crosscorrelation</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="libgwyprocess-correlation.functions"></a><h2>Functions</h2>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="functions_proto_type">
<col class="functions_proto_name">
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>
</td>
<td class="function_name">
<a class="link" href="libgwyprocess-correlation.html#gwy-data-field-get-correlation-score" title="gwy_data_field_get_correlation_score ()">gwy_data_field_get_correlation_score</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>
</td>
<td class="function_name">
<a class="link" href="libgwyprocess-correlation.html#gwy-data-field-get-weighted-correlation-score" title="gwy_data_field_get_weighted_correlation_score ()">gwy_data_field_get_weighted_correlation_score</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="libgwyprocess-correlation.html#gwy-data-field-crosscorrelate" title="gwy_data_field_crosscorrelate ()">gwy_data_field_crosscorrelate</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="libgwyprocess-gwyprocessenums.html#GwyComputationState"><span class="returnvalue">GwyComputationState</span></a> *
</td>
<td class="function_name">
<a class="link" href="libgwyprocess-correlation.html#gwy-data-field-crosscorrelate-init" title="gwy_data_field_crosscorrelate_init ()">gwy_data_field_crosscorrelate_init</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="libgwyprocess-correlation.html#gwy-data-field-crosscorrelate-set-weights" title="gwy_data_field_crosscorrelate_set_weights ()">gwy_data_field_crosscorrelate_set_weights</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="libgwyprocess-correlation.html#gwy-data-field-crosscorrelate-iteration" title="gwy_data_field_crosscorrelate_iteration ()">gwy_data_field_crosscorrelate_iteration</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="libgwyprocess-correlation.html#gwy-data-field-crosscorrelate-finalize" title="gwy_data_field_crosscorrelate_finalize ()">gwy_data_field_crosscorrelate_finalize</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="libgwyprocess-correlation.html#gwy-data-field-correlate" title="gwy_data_field_correlate ()">gwy_data_field_correlate</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="libgwyprocess-gwyprocessenums.html#GwyComputationState"><span class="returnvalue">GwyComputationState</span></a> *
</td>
<td class="function_name">
<a class="link" href="libgwyprocess-correlation.html#gwy-data-field-correlate-init" title="gwy_data_field_correlate_init ()">gwy_data_field_correlate_init</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="libgwyprocess-correlation.html#gwy-data-field-correlate-iteration" title="gwy_data_field_correlate_iteration ()">gwy_data_field_correlate_iteration</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="libgwyprocess-correlation.html#gwy-data-field-correlate-finalize" title="gwy_data_field_correlate_finalize ()">gwy_data_field_correlate_finalize</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="libgwyprocess-correlation.html#gwy-data-field-correlation-search" title="gwy_data_field_correlation_search ()">gwy_data_field_correlation_search</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="libgwyprocess-correlation.includes"></a><h2>Includes</h2>
<pre class="synopsis">#include &lt;libprocess/gwyprocess.h&gt;
</pre>
</div>
<div class="refsect1">
<a name="libgwyprocess-correlation.description"></a><h2>Description</h2>
</div>
<div class="refsect1">
<a name="libgwyprocess-correlation.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="gwy-data-field-get-correlation-score"></a><h3>gwy_data_field_get_correlation_score ()</h3>
<pre class="programlisting"><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>
gwy_data_field_get_correlation_score (<em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *data_field</code></em>,
                                      <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *kernel_field</code></em>,
                                      <em class="parameter"><code><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> col</code></em>,
                                      <em class="parameter"><code><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> row</code></em>,
                                      <em class="parameter"><code><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> kernel_col</code></em>,
                                      <em class="parameter"><code><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> kernel_row</code></em>,
                                      <em class="parameter"><code><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> kernel_width</code></em>,
                                      <em class="parameter"><code><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> kernel_height</code></em>);</pre>
<p>Calculates a correlation score in one point.</p>
<p>Correlation window size is given by <em class="parameter"><code>kernel_col</code></em>
, <em class="parameter"><code>kernel_row</code></em>
, <em class="parameter"><code>kernel_width</code></em>
, <em class="parameter"><code>kernel_height</code></em>
, postion of the
correlation window on data is given by <em class="parameter"><code>col</code></em>
, <em class="parameter"><code>row</code></em>
.</p>
<p>If anything fails (data too close to boundary, etc.), function returns -1.0 (none correlation)..</p>
<div class="refsect3">
<a name="gwy-data-field-get-correlation-score.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>data_field</p></td>
<td class="parameter_description"><p>A data field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_field</p></td>
<td class="parameter_description"><p>Kernel to correlate data field with.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>col</p></td>
<td class="parameter_description"><p>Upper-left column position in the data field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>row</p></td>
<td class="parameter_description"><p>Upper-left row position in the data field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_col</p></td>
<td class="parameter_description"><p>Upper-left column position in kernel field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_row</p></td>
<td class="parameter_description"><p>Upper-left row position in kernel field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_width</p></td>
<td class="parameter_description"><p>Width of kernel field area.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_height</p></td>
<td class="parameter_description"><p>Heigh of kernel field area.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gwy-data-field-get-correlation-score.returns"></a><h4>Returns</h4>
<p> Correlation score (between -1.0 and 1.0). Value 1.0 denotes maximum correlation, -1.0 none correlation.</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gwy-data-field-get-weighted-correlation-score"></a><h3>gwy_data_field_get_weighted_correlation_score ()</h3>
<pre class="programlisting"><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>
gwy_data_field_get_weighted_correlation_score
                               (<em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *data_field</code></em>,
                                <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *kernel_field</code></em>,
                                <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *weight_field</code></em>,
                                <em class="parameter"><code><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> col</code></em>,
                                <em class="parameter"><code><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> row</code></em>,
                                <em class="parameter"><code><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> kernel_col</code></em>,
                                <em class="parameter"><code><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> kernel_row</code></em>,
                                <em class="parameter"><code><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> kernel_width</code></em>,
                                <em class="parameter"><code><a href="http://developer.gnome.org/doc/API/2.0/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> kernel_height</code></em>);</pre>
<p>Calculates a correlation score in one point using weights to center the used information to the center of kernel.</p>
<p>Correlation window size is given by <em class="parameter"><code>kernel_col</code></em>
, <em class="parameter"><code>kernel_row</code></em>
, <em class="parameter"><code>kernel_width</code></em>
, <em class="parameter"><code>kernel_height</code></em>
, postion of the
correlation window on data is given by <em class="parameter"><code>col</code></em>
, <em class="parameter"><code>row</code></em>
.</p>
<p>If anything fails (data too close to boundary, etc.), function returns -1.0 (none correlation)..</p>
<div class="refsect3">
<a name="gwy-data-field-get-weighted-correlation-score.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>data_field</p></td>
<td class="parameter_description"><p>A data field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_field</p></td>
<td class="parameter_description"><p>Kernel to correlate data field with.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>weight_field</p></td>
<td class="parameter_description"><p>data field of same size as kernel window size</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>col</p></td>
<td class="parameter_description"><p>Upper-left column position in the data field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>row</p></td>
<td class="parameter_description"><p>Upper-left row position in the data field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_col</p></td>
<td class="parameter_description"><p>Upper-left column position in kernel field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_row</p></td>
<td class="parameter_description"><p>Upper-left row position in kernel field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_width</p></td>
<td class="parameter_description"><p>Width of kernel field area.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_height</p></td>
<td class="parameter_description"><p>Heigh of kernel field area.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gwy-data-field-get-weighted-correlation-score.returns"></a><h4>Returns</h4>
<p> Correlation score (between -1.0 and 1.0). Value 1.0 denotes maximum correlation, -1.0 none correlation.</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gwy-data-field-crosscorrelate"></a><h3>gwy_data_field_crosscorrelate ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gwy_data_field_crosscorrelate (<em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *data_field1</code></em>,
                               <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *data_field2</code></em>,
                               <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *x_dist</code></em>,
                               <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *y_dist</code></em>,
                               <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *score</code></em>,
                               <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> search_width</code></em>,
                               <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> search_height</code></em>,
                               <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> window_width</code></em>,
                               <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> window_height</code></em>);</pre>
<p>Algorithm for matching two different images of the same object under changes.</p>
<p>It does not use any special features for matching. It simply searches for all points (with their neighbourhood) of
<em class="parameter"><code>data_field1</code></em>
 within <em class="parameter"><code>data_field2</code></em>
. Parameters <em class="parameter"><code>search_width</code></em>
 and <em class="parameter"><code>search_height</code></em>
 determine maimum area where to search
for points. The area is cenetered in the <em class="parameter"><code>data_field2</code></em>
 at former position of points at <em class="parameter"><code>data_field1</code></em>
.</p>
<div class="refsect3">
<a name="gwy-data-field-crosscorrelate.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>data_field1</p></td>
<td class="parameter_description"><p>A data field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>data_field2</p></td>
<td class="parameter_description"><p>A data field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>x_dist</p></td>
<td class="parameter_description"><p>A data field to store x-distances to.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>y_dist</p></td>
<td class="parameter_description"><p>A data field to store y-distances to.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>score</p></td>
<td class="parameter_description"><p>Data field to store correlation scores to.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>search_width</p></td>
<td class="parameter_description"><p>Search area width.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>search_height</p></td>
<td class="parameter_description"><p>Search area height.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>window_width</p></td>
<td class="parameter_description"><p>Correlation window width.  This parameter is not actually used.  Pass zero.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>window_height</p></td>
<td class="parameter_description"><p>Correlation window height.  This parameter is not actually used.  Pass zero.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gwy-data-field-crosscorrelate-init"></a><h3>gwy_data_field_crosscorrelate_init ()</h3>
<pre class="programlisting"><a class="link" href="libgwyprocess-gwyprocessenums.html#GwyComputationState"><span class="returnvalue">GwyComputationState</span></a> *
gwy_data_field_crosscorrelate_init (<em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *data_field1</code></em>,
                                    <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *data_field2</code></em>,
                                    <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *x_dist</code></em>,
                                    <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *y_dist</code></em>,
                                    <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *score</code></em>,
                                    <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> search_width</code></em>,
                                    <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> search_height</code></em>,
                                    <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> window_width</code></em>,
                                    <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> window_height</code></em>);</pre>
<p>Initializes a cross-correlation iterator.</p>
<p>This iterator reports its state as <a class="link" href="libgwyprocess-gwyprocessenums.html#GwyComputationStateType" title="enum GwyComputationStateType"><span class="type">GwyComputationStateType</span></a>.</p>
<div class="refsect3">
<a name="gwy-data-field-crosscorrelate-init.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>data_field1</p></td>
<td class="parameter_description"><p>A data field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>data_field2</p></td>
<td class="parameter_description"><p>A data field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>x_dist</p></td>
<td class="parameter_description"><p>A data field to store x-distances to, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>y_dist</p></td>
<td class="parameter_description"><p>A data field to store y-distances to, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>score</p></td>
<td class="parameter_description"><p>Data field to store correlation scores to, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>search_width</p></td>
<td class="parameter_description"><p>Search area width.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>search_height</p></td>
<td class="parameter_description"><p>Search area height.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>window_width</p></td>
<td class="parameter_description"><p>Correlation window width.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>window_height</p></td>
<td class="parameter_description"><p>Correlation window height.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gwy-data-field-crosscorrelate-init.returns"></a><h4>Returns</h4>
<p> A new cross-correlation iterator.</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gwy-data-field-crosscorrelate-set-weights"></a><h3>gwy_data_field_crosscorrelate_set_weights ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gwy_data_field_crosscorrelate_set_weights
                               (<em class="parameter"><code><a class="link" href="libgwyprocess-gwyprocessenums.html#GwyComputationState"><span class="type">GwyComputationState</span></a> *state</code></em>,
                                <em class="parameter"><code><a class="link" href="libgwyprocess-gwyprocessenums.html#GwyWindowingType" title="enum GwyWindowingType"><span class="type">GwyWindowingType</span></a> type</code></em>);</pre>
<p>Sets the weight function to be used within iterative cross-correlation algorithm.</p>
<p>By default (not setting it), rectangular windowing is used. This function should be called before running first
iteration to get consistent results.</p>
<div class="refsect3">
<a name="gwy-data-field-crosscorrelate-set-weights.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>state</p></td>
<td class="parameter_description"><p>Cross-correlation iterator.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>type</p></td>
<td class="parameter_description"><p>Set windowing type to be set as correlation weight, see <a class="link" href="libgwyprocess-gwyprocessenums.html#GwyWindowingType" title="enum GwyWindowingType"><span class="type">GwyWindowingType</span></a> for details.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gwy-data-field-crosscorrelate-iteration"></a><h3>gwy_data_field_crosscorrelate_iteration ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gwy_data_field_crosscorrelate_iteration
                               (<em class="parameter"><code><a class="link" href="libgwyprocess-gwyprocessenums.html#GwyComputationState"><span class="type">GwyComputationState</span></a> *state</code></em>);</pre>
<p>Performs one iteration of cross-correlation.</p>
<p>Cross-correlation matches two different images of the same object under changes.</p>
<p>It does not use any special features for matching. It simply searches for all points (with their neighbourhood) of
<em class="parameter"><code>data_field1</code></em>
 within <em class="parameter"><code>data_field2</code></em>
. Parameters <em class="parameter"><code>search_width</code></em>
 and <em class="parameter"><code>search_height</code></em>
 determine maimum area where to search
for points. The area is cenetered in the <em class="parameter"><code>data_field2</code></em>
 at former position of points at <em class="parameter"><code>data_field1</code></em>
.</p>
<p>A cross-correlation iterator can be created with <a class="link" href="libgwyprocess-correlation.html#gwy-data-field-crosscorrelate-init" title="gwy_data_field_crosscorrelate_init ()"><code class="function">gwy_data_field_crosscorrelate_init()</code></a>.  When iteration ends, either
by finishing or being aborted, <a class="link" href="libgwyprocess-correlation.html#gwy-data-field-crosscorrelate-finalize" title="gwy_data_field_crosscorrelate_finalize ()"><code class="function">gwy_data_field_crosscorrelate_finalize()</code></a> must be called to release allocated
resources.</p>
<div class="refsect3">
<a name="gwy-data-field-crosscorrelate-iteration.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>state</p></td>
<td class="parameter_description"><p>Cross-correlation iterator.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gwy-data-field-crosscorrelate-finalize"></a><h3>gwy_data_field_crosscorrelate_finalize ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gwy_data_field_crosscorrelate_finalize
                               (<em class="parameter"><code><a class="link" href="libgwyprocess-gwyprocessenums.html#GwyComputationState"><span class="type">GwyComputationState</span></a> *state</code></em>);</pre>
<p>Destroys a cross-correlation iterator, freeing all resources.</p>
<div class="refsect3">
<a name="gwy-data-field-crosscorrelate-finalize.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>state</p></td>
<td class="parameter_description"><p>Cross-correlation iterator.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gwy-data-field-correlate"></a><h3>gwy_data_field_correlate ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gwy_data_field_correlate (<em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *data_field</code></em>,
                          <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *kernel_field</code></em>,
                          <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *score</code></em>,
                          <em class="parameter"><code><a class="link" href="libgwyprocess-gwyprocessenums.html#GwyCorrelationType" title="enum GwyCorrelationType"><span class="type">GwyCorrelationType</span></a> method</code></em>);</pre>
<p>Computes correlation score for all positions in a data field.</p>
<p>Correlation score is compute for all points in data field <em class="parameter"><code>data_field</code></em>
 and full size of correlation kernel
<em class="parameter"><code>kernel_field</code></em>
.</p>
<p>The points in <em class="parameter"><code>score</code></em>
 correspond to centers of kernel.  More precisely, the point ((<em class="parameter"><code>kxres</code></em>
-1)/2, (<em class="parameter"><code>kyres</code></em>
-1)/2) in
<em class="parameter"><code>score</code></em>
 corresponds to kernel field top left corner coincident with data field top left corner.  Points outside the
area where the kernel field fits into the data field completely are set to -1 for <a class="link" href="libgwyprocess-gwyprocessenums.html#GWY-CORRELATION-NORMAL:CAPS"><code class="literal">GWY_CORRELATION_NORMAL</code></a>.</p>
<p>This function is mostly made obsolete by <a class="link" href="libgwyprocess-correlation.html#gwy-data-field-correlation-search" title="gwy_data_field_correlation_search ()"><code class="function">gwy_data_field_correlation_search()</code></a> which offers, beside the plain
FFT-based correlation, a method equivalent to <a class="link" href="libgwyprocess-gwyprocessenums.html#GWY-CORRELATION-NORMAL:CAPS"><code class="literal">GWY_CORRELATION_NORMAL</code></a> as well as several others, all computed
efficiently using FFT.</p>
<div class="refsect3">
<a name="gwy-data-field-correlate.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>data_field</p></td>
<td class="parameter_description"><p>A data field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_field</p></td>
<td class="parameter_description"><p>Correlation kernel.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>score</p></td>
<td class="parameter_description"><p>Data field to store correlation scores to.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>method</p></td>
<td class="parameter_description"><p>Correlation score calculation method.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gwy-data-field-correlate-init"></a><h3>gwy_data_field_correlate_init ()</h3>
<pre class="programlisting"><a class="link" href="libgwyprocess-gwyprocessenums.html#GwyComputationState"><span class="returnvalue">GwyComputationState</span></a> *
gwy_data_field_correlate_init (<em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *data_field</code></em>,
                               <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *kernel_field</code></em>,
                               <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *score</code></em>);</pre>
<p>Creates a new correlation iterator.</p>
<p>This iterator reports its state as <a class="link" href="libgwyprocess-gwyprocessenums.html#GwyComputationStateType" title="enum GwyComputationStateType"><span class="type">GwyComputationStateType</span></a>.</p>
<p>This function is mostly made obsolete by <a class="link" href="libgwyprocess-correlation.html#gwy-data-field-correlation-search" title="gwy_data_field_correlation_search ()"><code class="function">gwy_data_field_correlation_search()</code></a> which offers, beside the plain
FFT-based correlation, a method equivalent to <a class="link" href="libgwyprocess-gwyprocessenums.html#GWY-CORRELATION-NORMAL:CAPS"><code class="literal">GWY_CORRELATION_NORMAL</code></a> as well as several others, all computed
efficiently using FFT.</p>
<div class="refsect3">
<a name="gwy-data-field-correlate-init.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>data_field</p></td>
<td class="parameter_description"><p>A data field.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_field</p></td>
<td class="parameter_description"><p>Kernel to correlate data field with.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>score</p></td>
<td class="parameter_description"><p>Data field to store correlation scores to.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gwy-data-field-correlate-init.returns"></a><h4>Returns</h4>
<p> A new correlation iterator.</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gwy-data-field-correlate-iteration"></a><h3>gwy_data_field_correlate_iteration ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gwy_data_field_correlate_iteration (<em class="parameter"><code><a class="link" href="libgwyprocess-gwyprocessenums.html#GwyComputationState"><span class="type">GwyComputationState</span></a> *state</code></em>);</pre>
<p>Performs one iteration of correlation.</p>
<p>An iterator can be created with <a class="link" href="libgwyprocess-correlation.html#gwy-data-field-correlate-init" title="gwy_data_field_correlate_init ()"><code class="function">gwy_data_field_correlate_init()</code></a>. When iteration ends, either by finishing or being
aborted, <a class="link" href="libgwyprocess-correlation.html#gwy-data-field-correlate-finalize" title="gwy_data_field_correlate_finalize ()"><code class="function">gwy_data_field_correlate_finalize()</code></a> must be called to release allocated resources.</p>
<div class="refsect3">
<a name="gwy-data-field-correlate-iteration.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>state</p></td>
<td class="parameter_description"><p>Correlation iterator.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gwy-data-field-correlate-finalize"></a><h3>gwy_data_field_correlate_finalize ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gwy_data_field_correlate_finalize (<em class="parameter"><code><a class="link" href="libgwyprocess-gwyprocessenums.html#GwyComputationState"><span class="type">GwyComputationState</span></a> *state</code></em>);</pre>
<p>Destroys a correlation iterator, freeing all resources.</p>
<div class="refsect3">
<a name="gwy-data-field-correlate-finalize.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>state</p></td>
<td class="parameter_description"><p>Correlation iterator.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="gwy-data-field-correlation-search"></a><h3>gwy_data_field_correlation_search ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gwy_data_field_correlation_search (<em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *dfield</code></em>,
                                   <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *kernel</code></em>,
                                   <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *kernel_weight</code></em>,
                                   <em class="parameter"><code><a class="link" href="GwyDataField.html" title="GwyDataField"><span class="type">GwyDataField</span></a> *target</code></em>,
                                   <em class="parameter"><code><a class="link" href="libgwyprocess-gwyprocessenums.html#GwyCorrSearchType" title="enum GwyCorrSearchType"><span class="type">GwyCorrSearchType</span></a> method</code></em>,
                                   <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> regcoeff</code></em>,
                                   <em class="parameter"><code><a class="link" href="libgwyprocess-gwyprocessenums.html#GwyExteriorType" title="enum GwyExteriorType"><span class="type">GwyExteriorType</span></a> exterior</code></em>,
                                   <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> fill_value</code></em>);</pre>
<p>Performs correlation search of a detail in a larger data field.</p>
<p>There are two basic classes of methods: Covariance (products of kernel and data values are summed) and height
difference (squared differences between kernel and data values are summed).  For the second class, the sign of the
output is inverted.  So in both cases higher values mean better match. All methods are implemented efficiently
using FFT.</p>
<p>Usually you want to use <a class="link" href="libgwyprocess-gwyprocessenums.html#GWY-CORR-SEARCH-COVARIANCE:CAPS"><code class="literal">GWY_CORR_SEARCH_COVARIANCE</code></a> or <a class="link" href="libgwyprocess-gwyprocessenums.html#GWY-CORR-SEARCH-HEIGHT-DIFF:CAPS"><code class="literal">GWY_CORR_SEARCH_HEIGHT_DIFF</code></a>, in which the absolute data
offsets play no role (only the differences).</p>
<p>If the detail can also occur with different height scales, use <a class="link" href="libgwyprocess-gwyprocessenums.html#GWY-CORR-SEARCH-COVARIANCE-SCORE:CAPS"><code class="literal">GWY_CORR_SEARCH_COVARIANCE_SCORE</code></a> or
<a class="link" href="libgwyprocess-gwyprocessenums.html#GWY-CORR-SEARCH-HEIGHT-DIFF-SCORE:CAPS"><code class="literal">GWY_CORR_SEARCH_HEIGHT_DIFF_SCORE</code></a> in which the local data variance is normalised.  In this case <em class="parameter"><code>dfield</code></em>
 regions
with very small (or zero) variance can lead to odd results and spurious maxima.  Use <em class="parameter"><code>regcoeff</code></em>
 to suppress them:
Score of image details is suppressed if their variance is <em class="parameter"><code>regcoeff</code></em>
 times the mean local variance.</p>
<p>If <em class="parameter"><code>kernel_weight</code></em>
 is non-<a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> is allows specify masking/weighting of kernel.  The simplest use is masking when
searching for a non-rectangular detail.  Fill <em class="parameter"><code>kernel_weight</code></em>
 with 1s for important kernel pixels and with 0s for
irrelevant pixels.  However, you can use arbitrary non-negative weights.</p>
<div class="refsect3">
<a name="gwy-data-field-correlation-search.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>dfield</p></td>
<td class="parameter_description"><p>A data field to search.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel</p></td>
<td class="parameter_description"><p>Detail to find (kernel).</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>kernel_weight</p></td>
<td class="parameter_description"><p>Kernel weight, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.  If given, its dimensions must match <em class="parameter"><code>kernel</code></em>
.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>target</p></td>
<td class="parameter_description"><p>Data field to fill with the score.  It will be resampled to match <em class="parameter"><code>dfield</code></em>
.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>method</p></td>
<td class="parameter_description"><p>Method, determining the type of output to put into <em class="parameter"><code>target</code></em>
.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>regcoeff</p></td>
<td class="parameter_description"><p>Regularisation coefficient, any positive number.  Pass something like 0.1 if unsure.  You can also pass
zero, it means the same as <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#G-MINDOUBLE:CAPS"><code class="literal">G_MINDOUBLE</code></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>exterior</p></td>
<td class="parameter_description"><p>Exterior pixels handling.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>fill_value</p></td>
<td class="parameter_description"><p>The value to use with <a class="link" href="libgwyprocess-gwyprocessenums.html#GWY-EXTERIOR-FIXED-VALUE:CAPS"><code class="literal">GWY_EXTERIOR_FIXED_VALUE</code></a> exterior.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: <a class="link" href="api-index-2-50.html#api-index-2.50">2.50</a></p>
</div>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.19</div>
</body>
</html>